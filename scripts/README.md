# Скрипты автоматизации

## Быстрый старт

```bash
# 1. Сгенерировать файлы промтов
./fill-technologies.sh --generate

# 2. Посмотреть прогресс
./fill-technologies.sh --progress

# 3. Запустить одно направление
./fill-technologies.sh D02

# 4. Запустить фазу целиком (параллельно)
./fill-technologies.sh phase1 --parallel 3

# 5. Запустить всё
./fill-technologies.sh all --parallel 4
```

---

## Команды

| Команда | Описание |
|---------|----------|
| `./fill-technologies.sh D02` | Заполнить электрику |
| `./fill-technologies.sh phase1` | Фаза 1 (ключевые) |
| `./fill-technologies.sh phase2` | Фаза 2 (важные) |
| `./fill-technologies.sh phase3` | Фаза 3 (остальные) |
| `./fill-technologies.sh all` | Все направления |
| `--parallel N` | N процессов параллельно |
| `--dry-run` | Тест без запуска |
| `--progress` | Показать прогресс |
| `--generate` | Создать промты |

---

## Фазы

### Фаза 1 — Ключевые (97 технологий)
```
D02 Электрика      (14 новых)
D04 Сантехника     (17 новых)
D09 Штукатурка     (16 новых)
D12 Плитка         (7 новых)
D06 Монтаж         (16 новых)
D10 Покраска       (13 новых)
D13 Полы черновые  (14 новых)
```

### Фаза 2 — Важные (66 технологий)
```
D08 Подготовка стен    (12 новых)
D01 Демонтаж           (21 новых)
D05 Климат             (15 новых)
D16 Двери межкомнатные (18 новых)
```

### Фаза 3 — Остальные (63 технологии)
```
D11 Обои, D14 Полы чистовые, D15 Окна,
D17 Двери входные, D07 Изоляция,
D03 Слаботочка, D18 Фасад, D00 Культура
```

---

## Структура

```
scripts/
├── fill-technologies.sh   # Главный скрипт
├── progress.json          # Прогресс заполнения
├── README.md              # Эта документация
├── prompts/               # Файлы промтов (генерируются)
│   ├── D02.md
│   ├── D04.md
│   └── ...
└── logs/                  # Логи выполнения
    └── D02_20251129_123456.log
```

---

## Ручной режим (альтернатива)

Если скрипт не работает, можно запускать вручную:

```bash
# Терминал 1
cd "/Users/nikolajeliseev/Desktop/Школа ремонт"
claude

# В Claude вставить промт из scripts/prompts/D02.md
```

Или через pipe:

```bash
cat scripts/prompts/D02.md | claude --print
```

---

## Отслеживание прогресса

Прогресс сохраняется в `progress.json`:

```json
{
  "D02": {
    "status": "completed",
    "technologies_created": 15,
    "updated": "2025-11-29T12:34:56"
  }
}
```

Статусы:
- `pending` — не начато
- `in_progress` — выполняется
- `completed` — завершено
- `failed` — ошибка

---

## Требования

- macOS / Linux
- Claude Code CLI (`claude` в PATH)
- Python 3 (для JSON)
- Bash 4+
